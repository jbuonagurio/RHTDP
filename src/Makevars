## -*- mode: Makefile; -*-

PKG_CPPFLAGS = -I./htdp
PKG_LIBS = $(SUBLIBS) $(FLIBS)

MkInclude = $(R_HOME)/etc${R_ARCH}/Makeconf

SOURCES_C = RcppExports.cpp RcppHTDP.cpp
OBJECTS = $(SOURCES_C:.cpp=.o)

SUBDIRS = htdp
SUBLIBS = $(SUBDIRS:=.a)

.PHONY: all sublibs

all: $(SHLIB)
$(SHLIB): $(OBJECTS) sublibs

sublibs:
	@(cd htdp && $(MAKE) static FC="$(FC)" FFLAGS="$(FFLAGS)" MkInclude="$(MkInclude)")

clean:
	@(cd htdp && $(MAKE) clean)
 